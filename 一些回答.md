# 一些回答

## 从输入 URL 到页面加载完成的过程中都发生了什么事情？

### 从浏览器到浏览器内核

1. 接收到输入事件，浏览器可能会做一些预处理（如输入 [bai]，推断要访问[www.baidu.com]，在输入回车前马上开始建立TCP链接甚至渲染了）

2. 回车，检查URL，判断协议，如果是http就按照web标准处理，安全检查，调用loadURL方法

3. 查看缓存，设置UA等http信息，调用网络请求

### HTTP 请求的发送

通过 DNS 查询 IP、通过 Socket 发送数据

### 浏览器渲染流程开始

1. 解析html建立dom树
2. 解析css构建render树（将CSS代码解析成树形的数据结构，然后结合DOM合并成render树）
3. 布局render树（Layout/reflow），负责各元素尺寸、位置的计算
4. 绘制render树（paint），绘制页面像素信息
5. 浏览器会将各层的信息发送给GPU，GPU会将各层合成（composite），显示在屏幕上。

渲染完毕后就是load事件了，之后就是自己的JS逻辑处理了

![render](/images/js-render.png)

- [最全JS运行机制](https://segmentfault.com/a/1190000012925872)
